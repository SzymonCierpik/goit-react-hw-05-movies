import{r as u,a as j,b as S,j as t,L as v}from"./index-83906598.js";import{G as M}from"./iconBase-6db4ffa7.js";import{g as y}from"./Api-61f38dee.js";function L(s){return M({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"}}]})(s)}const B=()=>{const[s,r]=u.useState(1),[i,l]=u.useState(!1),[m,c]=j(),o=m.get("query")??"",a=`3/search/movie?&query=${o}&page=${s}&include_adult=false`,h=e=>{e.preventDefault();const n=e.currentTarget.elements.input.value;if(!n)return c({});c({query:n})},d=()=>{r(e=>e+1)},[g,f]=u.useState([]);return u.useEffect(()=>{o.trim()!==""&&y(a).then(e=>{const{page:n,results:x,total_pages:_}=e.data;f(b=>[...b,...x]),r(n),_>n&&l(!0)}).catch(e=>{console.log(e.message)})},[a,o,s]),[g,h,i,d]},P="_form_ex6gr_1",q="_button_ex6gr_14",E="_input_ex6gr_29",p={form:P,button:q,input:E},k=()=>{const[s,r,i,l]=B(),m=S();return t.jsxs(t.Fragment,{children:[t.jsxs("form",{className:p.form,onSubmit:r,children:[t.jsx("button",{className:p.button,type:"submit",children:t.jsx(L,{size:"20px"})}),t.jsx("input",{className:p.input,name:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]}),t.jsx("ul",{children:s.length>0&&s.map(c=>{const{original_title:o,id:a}=c;return t.jsx("li",{children:t.jsx(v,{to:`${a}`,state:{from:m},children:t.jsx("span",{children:o})})},a)})}),i&&t.jsx("button",{type:"button",onClick:l,children:"Load More"})]})};export{k as default};
